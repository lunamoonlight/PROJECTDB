CREATE TABLE Card (
    card_id SERIAL PRIMARY KEY,
    codecard INT NOT NULL,
    balance INT,
    srok_card DATE NOT NULL
);
CREATE TABLE Suppliers (
    supplier_id SERIAL PRIMARY KEY,
    supplier_name VARCHAR(100) NOT NULL,
    supplier_phone INT NOT NULL,
    supplier_address TEXT,
    rating INT,
    delivery_time INT NOT NULL
);

CREATE TABLE Clients(
    client_id SERIAL PRIMARY KEY,
    card_id INT,
    full_name VARCHAR(255) NOT NULL,
    birthday DATE,
    phone INT UNIQUE NOT NULL,
    FOREIGN KEY (card_id) REFERENCES Card(card_id)
);
CREATE TABLE Orders (
    order_id SERIAL PRIMARY KEY,
    client_id INT NOT NULL,
    order_date DATE NOT NULL,
    delivery_date DATE NOT NULL,
    status VARCHAR(20) NOT NULL,
    delivery_type VARCHAR(20) NOT NULL,
    delivery_address TEXT NOT NULL,
    notes TEXT,
    FOREIGN KEY (client_id) REFERENCES Clients(client_id)
);

CREATE TABLE Products (
    product_id SERIAL PRIMARY KEY,
    supplier_id INT NOT NULL,
    product_name VARCHAR(100) NOT NULL,
    price NUMERIC NOT NULL,
    description TEXT,
    is_available BOOLEAN DEFAULT (TRUE),
    quantity INT DEFAULT (1),
    category TEXT NOT NULL,
    FOREIGN KEY (supplier_id) REFERENCES Suppliers(supplier_id)
);

CREATE TABLE Stock (
    stock_id SERIAL PRIMARY KEY,
    product_id INT,
    quantity INT,
    last_update DATE,
    FOREIGN KEY (product_id) REFERENCES Products(product_id)
);


CREATE TABLE Order_Items (
    order_item_id SERIAL PRIMARY KEY,
    order_id INT,
    product_id INT,
    quantity INT,
    price NUMERIC,
    FOREIGN KEY (order_id) REFERENCES Orders(order_id),
    FOREIGN KEY (product_id) REFERENCES Products(product_id)
);





